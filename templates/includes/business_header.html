{% load static %}
{% load media_tags %}

<!-- Business Logo -->
{% if tenant_settings.business_logo %}
<div class="business-logo">
    <img src="{% media_url tenant_settings.business_logo %}" alt="{{ business.name }} Logo" class="logo-img" 
         onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'logo-placeholder\'><i class=\'fas fa-building\'></i><br><small>{{ business.name }}</small></div>'; console.log('Logo failed to load:', this.src);">
</div>
{% elif tenant_settings.logo_url %}
<div class="business-logo">
    <img src="{{ tenant_settings.logo_url }}" alt="{{ business.name }} Logo" class="logo-img" 
         onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'logo-placeholder\'><i class=\'fas fa-building\'></i><br><small>{{ business.name }}</small></div>'; console.log('Logo URL failed to load:', this.src);">
</div>
{% else %}
<div class="business-logo">
    <img src="{% static 'img/logo.png' %}" alt="{{ business.name }} Logo" class="logo-img" 
         onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'logo-placeholder\'><i class=\'fas fa-building\'></i><br><small>{{ business.name }}</small></div>';">
</div>
{% endif %}

<!-- Business Information -->
<div class="business-name">{{ business.name|upper }}</div>
{% if tenant_settings.tagline %}
<div class="business-details">{{ tenant_settings.tagline }}</div>
{% endif %}

<!-- PO Box (prioritized over regular address) -->
{% if tenant_settings.po_box %}
<div class="business-details">P.O. BOX {{ tenant_settings.po_box }}</div>
{% elif tenant_settings.contact_address %}
<div class="business-details">{{ tenant_settings.contact_address }}</div>
{% elif business.city %}
<div class="business-details">{{ business.city }}{% if business.state %}, {{ business.state }}{% endif %}</div>
{% endif %}

<!-- Contact Information Row -->
<div class="business-details">
    {% if tenant_settings.contact_phone %}Tel: {{ tenant_settings.contact_phone }}{% elif business.phone %}Tel: {{ business.phone }}{% endif %}
    {% if tenant_settings.contact_email %} | {{ tenant_settings.contact_email }}{% elif business.email %} | {{ business.email }}{% endif %}
</div>

<!-- Tax Number (PIN) -->
{% if tenant_settings.tax_number %}
<div class="business-details">PIN: {{ tenant_settings.tax_number }}</div>
{% endif %}

<!-- Website -->
{% if tenant_settings.website_url %}
<div class="business-details">{{ tenant_settings.website_url }}</div>
{% endif %}